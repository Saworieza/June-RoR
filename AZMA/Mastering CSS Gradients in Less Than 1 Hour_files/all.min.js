var wd=wd||{};wd={init:function(){this.startEbookSlider();this.mediaQueries();this.initCommentselect();this.initResourceFilters();$(window).smartresize(this.mediaQueries);$(window).load(this.mediaQueries);$("#comments .count").on("click",this.sortComments);this.wrapImages();$("#contact #commentSubmit").click(this.contactUs)},wrapImages:function(){$(".post img").each(function(){var e=$(this).parents().filter(".teammember").length;var b=$(this).parents().filter(".related").length;var a=$(this).parents().filter("#democontent").length;var d=$(this).parents().filter(".bsaasw_container").length;var c=$(this).parent().filter(":first");if(e=="0"&&b=="0"&&a=="0"&&d=="0"){if(c.is("a")){if(!c.hasClass("aligncenter")||!c.hasClass("alignnone")||!c.hasClass("post-img")){c.addClass("aligncenter")}}else{if(!c.hasClass("aligncenter")||!c.hasClass("alignnone")||!c.hasClass("post-img")){$(this).wrap('<div class="aligncenter" />')}}$(this).removeClass("aligncenter alignnone")}})},startEbookSlider:function(){var a=$(".widget_1wd_ebooks");if(a.length>0&&!a.is(":hidden")){a.find(".slides li:not(:first)").hide();a.flexslider(wd.configs.ebookslider)}},mediaQueries:function(){$sharead=$("#sharead");var a=$(window).width();if(a<=585){$sharead.insertBefore("#nl-inline")}else{$sharead.insertAfter(".post .meta")}$("#fullwidth .topics i+p+p").css({minHeight:"auto"}).equalHeights();wd.resizeResources()},dbg:function(){$dbg=$("#debug");if($dbg.length){if($dbg.is(":hidden")){$dbg.show()}$dbg.find(".width").text($(window).width());$dbg.find(".height").text($(window).height())}else{$dbg.remove()}},initCommentselect:function(){var a=$("#contactUs");if(a.length>0&&!a.is(":hidden")){$("#commentReason").select2({allowClear:1,dropdownCssClass:"commentReason"})}},initResourceFilters:function(){$("#freeitems .filter li a, #premiumitems .filter li a").click(wd.filterResources)},filterResources:function(f){var d=$(this);d.closest("ul").find("li.current a").removeClass("btn-red").addClass("btn-link");d.closest("ul").find("li.current").removeClass("current");d.closest("li").addClass("current");d.removeClass("btn-link").addClass("btn-red");var b=d.data("type");var c="#"+d.closest(".resourceitems").attr("id");var g=$(c+" .items");var a="*";if(b!="all"){a=g.find(".item."+b+"")}wd.resizeResources(g,a);f.preventDefault()},resizeResources:function(d,c){var e=3;var f=$(".resourceitems:first .items").width();if(f<=540){e=1}else{if(f>=541&&f<=770){e=2}else{e=3}}f=Math.floor(f/e);d=d||$(".resourceitems .items");c=c||"*";d.isotope({resizable:false,filter:c,masonry:{columnWidth:f}})},isValidMail:function(a){var b=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,4}$/;return b.test(a)},sortComments:function(a){if($("#comments .count").length>=2){if(!$(this).hasClass("active")){$("ul.commentlist, #comments .count").toggleClass("active")}}a.preventDefault()},contactUs:function(e){var contactName=$("#commentName").val(),contactMail=$("#commentMail").val(),contactUrl=$("#commentWebsite").val(),contactReason=$("#commentReason").val(),contactText=$("#comment").val();var writeContactString=$("#contactUs").serialize();$.ajax({beforeSend:function(){},type:"POST",url:mainurl+"/bin/contactform.php",data:writeContactString,success:function(data){$data=$(data);if($data.length<=1){eval($data.text())}else{$("#respond").html("<div id='success'></div>");$("#success").html("<h3>Thank you "+contactName+"!</h3>").append("<p>Your message was sent successfully.</p>").hide().fadeIn(1500)}}});e.preventDefault()}};wd.configs={ebookslider:{animation:"slide",directionNav:false}};if(!(window.console&&console.log)){(function(){var g=function(){};var e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"];var h=e.length;var f=window.console={};while(h--){f[e[h]]=g}}())}var log=function(b){console.log(b)};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(j,i,b,c,d){return jQuery.easing[jQuery.easing.def](j,i,b,c,d)},easeInQuad:function(j,i,b,c,d){return c*(i/=d)*i+b},easeOutQuad:function(j,i,b,c,d){return -c*(i/=d)*(i-2)+b},easeInOutQuad:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i+b}return -c/2*((--i)*(i-2)-1)+b},easeInCubic:function(j,i,b,c,d){return c*(i/=d)*i*i+b},easeOutCubic:function(j,i,b,c,d){return c*((i=i/d-1)*i*i+1)+b},easeInOutCubic:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i+b}return c/2*((i-=2)*i*i+2)+b},easeInQuart:function(j,i,b,c,d){return c*(i/=d)*i*i*i+b},easeOutQuart:function(j,i,b,c,d){return -c*((i=i/d-1)*i*i*i-1)+b},easeInOutQuart:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i*i+b}return -c/2*((i-=2)*i*i*i-2)+b},easeInQuint:function(j,i,b,c,d){return c*(i/=d)*i*i*i*i+b},easeOutQuint:function(j,i,b,c,d){return c*((i=i/d-1)*i*i*i*i+1)+b},easeInOutQuint:function(j,i,b,c,d){if((i/=d/2)<1){return c/2*i*i*i*i*i+b}return c/2*((i-=2)*i*i*i*i+2)+b},easeInSine:function(j,i,b,c,d){return -c*Math.cos(i/d*(Math.PI/2))+c+b},easeOutSine:function(j,i,b,c,d){return c*Math.sin(i/d*(Math.PI/2))+b},easeInOutSine:function(j,i,b,c,d){return -c/2*(Math.cos(Math.PI*i/d)-1)+b},easeInExpo:function(j,i,b,c,d){return(i==0)?b:c*Math.pow(2,10*(i/d-1))+b},easeOutExpo:function(j,i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b},easeInOutExpo:function(j,i,b,c,d){if(i==0){return b}if(i==d){return b+c}if((i/=d/2)<1){return c/2*Math.pow(2,10*(i-1))+b}return c/2*(-Math.pow(2,-10*--i)+2)+b},easeInCirc:function(j,i,b,c,d){return -c*(Math.sqrt(1-(i/=d)*i)-1)+b},easeOutCirc:function(j,i,b,c,d){return c*Math.sqrt(1-(i=i/d-1)*i)+b},easeInOutCirc:function(j,i,b,c,d){if((i/=d/2)<1){return -c/2*(Math.sqrt(1-i*i)-1)+b}return c/2*(Math.sqrt(1-(i-=2)*i)+1)+b},easeInElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return -(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+p},easeOutElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b)==1){return p+a}if(!c){c=b*0.3}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}return n*Math.pow(2,-10*m)*Math.sin((m*b-d)*(2*Math.PI)/c)+a+p},easeInOutElastic:function(o,m,p,a,b){var d=1.70158;var c=0;var n=a;if(m==0){return p}if((m/=b/2)==2){return p+a}if(!c){c=b*(0.3*1.5)}if(n<Math.abs(a)){n=a;var d=c/4}else{var d=c/(2*Math.PI)*Math.asin(a/n)}if(m<1){return -0.5*(n*Math.pow(2,10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c))+p}return n*Math.pow(2,-10*(m-=1))*Math.sin((m*b-d)*(2*Math.PI)/c)*0.5+a+p},easeInBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}return c*(k/=d)*k*((j+1)*k-j)+b},easeOutBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}return c*((k=k/d-1)*k*((j+1)*k+j)+1)+b},easeInOutBack:function(l,k,b,c,d,j){if(j==undefined){j=1.70158}if((k/=d/2)<1){return c/2*(k*k*(((j*=(1.525))+1)*k-j))+b}return c/2*((k-=2)*k*(((j*=(1.525))+1)*k+j)+2)+b},easeInBounce:function(j,i,b,c,d){return c-jQuery.easing.easeOutBounce(j,d-i,0,c,d)+b},easeOutBounce:function(j,i,b,c,d){if((i/=d)<(1/2.75)){return c*(7.5625*i*i)+b}else{if(i<(2/2.75)){return c*(7.5625*(i-=(1.5/2.75))*i+0.75)+b}else{if(i<(2.5/2.75)){return c*(7.5625*(i-=(2.25/2.75))*i+0.9375)+b}else{return c*(7.5625*(i-=(2.625/2.75))*i+0.984375)+b}}}},easeInOutBounce:function(j,i,b,c,d){if(i<d/2){return jQuery.easing.easeInBounce(j,i*2,0,c,d)*0.5+b}return jQuery.easing.easeOutBounce(j,i*2-d,0,c,d)*0.5+c*0.5+b}});(function(a){a.flexslider=function(o,n){var x=a(o),w=a.extend({},a.flexslider.defaults,n),v=w.namespace,d="ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch,y=d?"touchend":"click",j="vertical"===w.direction,g=w.reverse,q=0<w.itemWidth,b="fade"===w.animation,z=""!==w.asNavFor,u={};a.data(o,"flexslider",x);u={init:function(){x.animating=!1;x.currentSlide=w.startAt;x.animatingTo=x.currentSlide;x.atEnd=0===x.currentSlide||x.currentSlide===x.last;x.containerSelector=w.selector.substr(0,w.selector.search(" "));x.slides=a(w.selector,x);x.container=a(x.containerSelector,x);x.count=x.slides.length;x.syncExists=0<a(w.sync).length;"slide"===w.animation&&(w.animation="swing");x.prop=j?"top":"marginLeft";x.args={};x.manualPause=!1;var c=x,f;if(f=!w.video){if(f=!b){if(f=w.useCSS){x:{f=document.createElement("div");var i=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],h;for(h in i){if(void 0!==f.style[i[h]]){x.pfx=i[h].replace("Perspective","").toLowerCase();x.prop="-"+x.pfx+"-transform";f=!0;break x}}f=!1}}}}c.transitions=f;""!==w.controlsContainer&&(x.controlsContainer=0<a(w.controlsContainer).length&&a(w.controlsContainer));""!==w.manualControls&&(x.manualControls=0<a(w.manualControls).length&&a(w.manualControls));w.randomize&&(x.slides.sort(function(){return Math.round(Math.random())-0.5}),x.container.empty().append(x.slides));x.doMath();z&&u.asNav.setup();x.setup("init");w.controlNav&&u.controlNav.setup();w.directionNav&&u.directionNav.setup();w.keyboard&&(1===a(x.containerSelector).length||w.multipleKeyboard)&&a(document).bind("keyup",function(e){e=e.keyCode;if(!x.animating&&(39===e||37===e)){e=39===e?x.getTarget("next"):37===e?x.getTarget("prev"):!1,x.flexAnimate(e,w.pauseOnAction)}});w.mousewheel&&x.bind("mousewheel",function(e,k){e.preventDefault();var l=0>k?x.getTarget("next"):x.getTarget("prev");x.flexAnimate(l,w.pauseOnAction)});w.pausePlay&&u.pausePlay.setup();w.slideshow&&(w.pauseOnHover&&x.hover(function(){!x.manualPlay&&!x.manualPause&&x.pause()},function(){!x.manualPause&&!x.manualPlay&&x.play()}),0<w.initDelay?setTimeout(x.play,w.initDelay):x.play());d&&w.touch&&u.touch();(!b||b&&w.smoothHeight)&&a(window).bind("resize focus",u.resize);setTimeout(function(){w.start(x)},200)},asNav:{setup:function(){x.asNav=!0;x.animatingTo=Math.floor(x.currentSlide/x.move);x.currentItem=x.currentSlide;x.slides.removeClass(v+"active-slide").eq(x.currentItem).addClass(v+"active-slide");x.slides.click(function(c){c.preventDefault();var c=a(this),e=c.index();!a(w.asNavFor).data("flexslider").animating&&!c.hasClass("active")&&(x.direction=x.currentItem<e?"next":"prev",x.flexAnimate(e,w.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){x.manualControls?u.controlNav.setupManual():u.controlNav.setupPaging()},setupPaging:function(){var c=1,e;x.controlNavScaffold=a('<ol class="'+v+"control-nav "+v+("thumbnails"===w.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<x.pagingCount){for(var f=0;f<x.pagingCount;f++){e="thumbnails"===w.controlNav?'<img src="'+x.slides.eq(f).attr("data-thumb")+'"/>':"<a>"+c+"</a>",x.controlNavScaffold.append("<li>"+e+"</li>"),c++}}x.controlsContainer?a(x.controlsContainer).append(x.controlNavScaffold):x.append(x.controlNavScaffold);u.controlNav.set();u.controlNav.active();x.controlNavScaffold.delegate("a, img",y,function(h){h.preventDefault();var h=a(this),i=x.controlNav.index(h);h.hasClass(v+"active")||(x.direction=i>x.currentSlide?"next":"prev",x.flexAnimate(i,w.pauseOnAction))});d&&x.controlNavScaffold.delegate("a","click touchstart",function(h){h.preventDefault()})},setupManual:function(){x.controlNav=x.manualControls;u.controlNav.active();x.controlNav.live(y,function(c){c.preventDefault();var c=a(this),e=x.controlNav.index(c);c.hasClass(v+"active")||(e>x.currentSlide?x.direction="next":x.direction="prev",x.flexAnimate(e,w.pauseOnAction))});d&&x.controlNav.live("click touchstart",function(c){c.preventDefault()})},set:function(){x.controlNav=a("."+v+"control-nav li "+("thumbnails"===w.controlNav?"img":"a"),x.controlsContainer?x.controlsContainer:x)},active:function(){x.controlNav.removeClass(v+"active").eq(x.animatingTo).addClass(v+"active")},update:function(e,f){1<x.pagingCount&&"add"===e?x.controlNavScaffold.append(a("<li><a>"+x.count+"</a></li>")):1===x.pagingCount?x.controlNavScaffold.find("li").remove():x.controlNav.eq(f).closest("li").remove();u.controlNav.set();1<x.pagingCount&&x.pagingCount!==x.controlNav.length?x.update(f,e):u.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+v+'direction-nav"><li><a class="'+v+'prev" href="#">'+w.prevText+'</a></li><li><a class="'+v+'next" href="#">'+w.nextText+"</a></li></ul>");x.controlsContainer?(a(x.controlsContainer).append(c),x.directionNav=a("."+v+"direction-nav li a",x.controlsContainer)):(x.append(c),x.directionNav=a("."+v+"direction-nav li a",x));u.directionNav.update();x.directionNav.bind(y,function(e){e.preventDefault();e=a(this).hasClass(v+"next")?x.getTarget("next"):x.getTarget("prev");x.flexAnimate(e,w.pauseOnAction)});d&&x.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var c=v+"disabled";1===x.pagingCount?x.directionNav.addClass(c):w.animationLoop?x.directionNav.removeClass(c):0===x.animatingTo?x.directionNav.removeClass(c).filter("."+v+"prev").addClass(c):x.animatingTo===x.last?x.directionNav.removeClass(c).filter("."+v+"next").addClass(c):x.directionNav.removeClass(c)}},pausePlay:{setup:function(){var c=a('<div class="'+v+'pauseplay"><a></a></div>');x.controlsContainer?(x.controlsContainer.append(c),x.pausePlay=a("."+v+"pauseplay a",x.controlsContainer)):(x.append(c),x.pausePlay=a("."+v+"pauseplay a",x));u.pausePlay.update(w.slideshow?v+"pause":v+"play");x.pausePlay.bind(y,function(e){e.preventDefault();a(this).hasClass(v+"pause")?(x.manualPause=!0,x.manualPlay=!1,x.pause()):(x.manualPause=!1,x.manualPlay=!0,x.play())});d&&x.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(c){"play"===c?x.pausePlay.removeClass(v+"pause").addClass(v+"play").text(w.playText):x.pausePlay.removeClass(v+"play").addClass(v+"pause").text(w.pauseText)}},touch:function(){function A(e){l=j?t-e.touches[0].pageY:t-e.touches[0].pageX;h=j?Math.abs(l)<Math.abs(e.touches[0].pageX-s):Math.abs(l)<Math.abs(e.touches[0].pageY-s);if(!h||500<Number(new Date)-i){e.preventDefault(),!b&&x.transitions&&(w.animationLoop||(l/=0===x.currentSlide&&0>l||x.currentSlide===x.last&&0<l?Math.abs(l)/c+2:1),x.setProps(r+l,"setTouch"))}}function m(){o.removeEventListener("touchmove",A,!1);if(x.animatingTo===x.currentSlide&&!h&&null!==l){var f=g?-l:l,e=0<f?x.getTarget("next"):x.getTarget("prev");x.canAdvance(e)&&(550>Number(new Date)-i&&50<Math.abs(f)||Math.abs(f)>c/2)?x.flexAnimate(e,w.pauseOnAction):b||x.flexAnimate(x.currentSlide,w.pauseOnAction,!0)}o.removeEventListener("touchend",m,!1);r=l=s=t=null}var t,s,r,c,l,i,h=!1;o.addEventListener("touchstart",function(e){x.animating?e.preventDefault():1===e.touches.length&&(x.pause(),c=j?x.h:x.w,i=Number(new Date),r=q&&g&&x.animatingTo===x.last?0:q&&g?x.limit-(x.itemW+w.itemMargin)*x.move*x.animatingTo:q&&x.currentSlide===x.last?x.limit:q?(x.itemW+w.itemMargin)*x.move*x.currentSlide:g?(x.last-x.currentSlide+x.cloneOffset)*c:(x.currentSlide+x.cloneOffset)*c,t=j?e.touches[0].pageY:e.touches[0].pageX,s=j?e.touches[0].pageX:e.touches[0].pageY,o.addEventListener("touchmove",A,!1),o.addEventListener("touchend",m,!1))},!1)},resize:function(){!x.animating&&x.is(":visible")&&(q||x.doMath(),b?u.smoothHeight():q?(x.slides.width(x.computedW),x.update(x.pagingCount),x.setProps()):j?(x.viewport.height(x.h),x.setProps(x.h,"setTotal")):(w.smoothHeight&&u.smoothHeight(),x.newSlides.width(x.computedW),x.setProps(x.computedW,"setTotal")))},smoothHeight:function(e){if(!j||b){var f=b?x:x.viewport;e?f.animate({height:x.slides.eq(x.animatingTo).height()},e):f.height(x.slides.eq(x.animatingTo).height())}},sync:function(c){var f=a(w.sync).data("flexslider"),h=x.animatingTo;switch(c){case"animate":f.flexAnimate(h,w.pauseOnAction,!1,!0);break;case"play":!f.playing&&!f.asNav&&f.play();break;case"pause":f.pause()}}};x.flexAnimate=function(c,h,m,f,e){z&&1===x.pagingCount&&(x.direction=x.currentItem<c?"next":"prev");if(!x.animating&&(x.canAdvance(c,e)||m)&&x.is(":visible")){if(z&&f){if(m=a(w.asNavFor).data("flexslider"),x.atEnd=0===c||c===x.count-1,m.flexAnimate(c,!0,!1,!0,e),x.direction=x.currentItem<c?"next":"prev",m.direction=x.direction,Math.ceil((c+1)/x.visible)-1!==x.currentSlide&&0!==c){x.currentItem=c,x.slides.removeClass(v+"active-slide").eq(c).addClass(v+"active-slide"),c=Math.floor(c/x.visible)}else{return x.currentItem=c,x.slides.removeClass(v+"active-slide").eq(c).addClass(v+"active-slide"),!1}}x.animating=!0;x.animatingTo=c;w.before(x);h&&x.pause();x.syncExists&&!e&&u.sync("animate");w.controlNav&&u.controlNav.active();q||x.slides.removeClass(v+"active-slide").eq(c).addClass(v+"active-slide");x.atEnd=0===c||c===x.last;w.directionNav&&u.directionNav.update();c===x.last&&(w.end(x),w.animationLoop||x.pause());if(b){d?(x.slides.eq(x.currentSlide).css({opacity:0}),x.slides.eq(c).css({opacity:1}),x.animating=!1,x.currentSlide=x.animatingTo):(x.slides.eq(x.currentSlide).fadeOut(w.animationSpeed,w.easing),x.slides.eq(c).fadeIn(w.animationSpeed,w.easing,x.wrapup))}else{var l=j?x.slides.filter(":first").height():x.computedW;q?(c=w.itemWidth>x.w?2*w.itemMargin:w.itemMargin,c=(x.itemW+c)*x.move*x.animatingTo,c=c>x.limit&&1!==x.visible?x.limit:c):c=0===x.currentSlide&&c===x.count-1&&w.animationLoop&&"next"!==x.direction?g?(x.count+x.cloneOffset)*l:0:x.currentSlide===x.last&&0===c&&w.animationLoop&&"prev"!==x.direction?g?0:(x.count+1)*l:g?(x.count-1-c+x.cloneOffset)*l:(c+x.cloneOffset)*l;x.setProps(c,"",w.animationSpeed);if(x.transitions){if(!w.animationLoop||!x.atEnd){x.animating=!1,x.currentSlide=x.animatingTo}x.container.unbind("webkitTransitionEnd transitionend");x.container.bind("webkitTransitionEnd transitionend",function(){x.wrapup(l)})}else{x.container.animate(x.args,w.animationSpeed,w.easing,function(){x.wrapup(l)})}}w.smoothHeight&&u.smoothHeight(w.animationSpeed)}};x.wrapup=function(c){!b&&!q&&(0===x.currentSlide&&x.animatingTo===x.last&&w.animationLoop?x.setProps(c,"jumpEnd"):x.currentSlide===x.last&&(0===x.animatingTo&&w.animationLoop)&&x.setProps(c,"jumpStart"));x.animating=!1;x.currentSlide=x.animatingTo;w.after(x)};x.animateSlides=function(){x.animating||x.flexAnimate(x.getTarget("next"))};x.pause=function(){clearInterval(x.animatedSlides);x.playing=!1;w.pausePlay&&u.pausePlay.update("play");x.syncExists&&u.sync("pause")};x.play=function(){x.animatedSlides=setInterval(x.animateSlides,w.slideshowSpeed);x.playing=!0;w.pausePlay&&u.pausePlay.update("pause");x.syncExists&&u.sync("play")};x.canAdvance=function(c,e){var f=z?x.pagingCount-1:x.last;return e?!0:z&&x.currentItem===x.count-1&&0===c&&"prev"===x.direction?!0:z&&0===x.currentItem&&c===x.pagingCount-1&&"next"!==x.direction?!1:c===x.currentSlide&&!z?!1:w.animationLoop?!0:x.atEnd&&0===x.currentSlide&&c===f&&"next"!==x.direction?!1:x.atEnd&&x.currentSlide===f&&0===c&&"next"===x.direction?!1:!0};x.getTarget=function(c){x.direction=c;return"next"===c?x.currentSlide===x.last?0:x.currentSlide+1:0===x.currentSlide?x.last:x.currentSlide-1};x.setProps=function(c,h,l){var k,i=c?c:(x.itemW+w.itemMargin)*x.move*x.animatingTo;k=-1*function(){if(q){return"setTouch"===h?c:g&&x.animatingTo===x.last?0:g?x.limit-(x.itemW+w.itemMargin)*x.move*x.animatingTo:x.animatingTo===x.last?x.limit:i}switch(h){case"setTotal":return g?(x.count-1-x.currentSlide+x.cloneOffset)*c:(x.currentSlide+x.cloneOffset)*c;case"setTouch":return c;case"jumpEnd":return g?c:x.count*c;case"jumpStart":return g?x.count*c:c;default:return c}}()+"px";x.transitions&&(k=j?"translate3d(0,"+k+",0)":"translate3d("+k+",0,0)",l=void 0!==l?l/1000+"s":"0s",x.container.css("-"+x.pfx+"-transition-duration",l));x.args[x.prop]=k;(x.transitions||void 0===l)&&x.container.css(x.args)};x.setup=function(c){if(b){x.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&(d?x.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+w.animationSpeed/1000+"s ease"}).eq(x.currentSlide).css({opacity:1}):x.slides.eq(x.currentSlide).fadeIn(w.animationSpeed,w.easing)),w.smoothHeight&&u.smoothHeight()}else{var e,f;"init"===c&&(x.viewport=a('<div class="'+v+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(x).append(x.container),x.cloneCount=0,x.cloneOffset=0,g&&(f=a.makeArray(x.slides).reverse(),x.slides=a(f),x.container.empty().append(x.slides)));w.animationLoop&&!q&&(x.cloneCount=2,x.cloneOffset=1,"init"!==c&&x.container.find(".clone").remove(),x.container.append(x.slides.first().clone().addClass("clone")).prepend(x.slides.last().clone().addClass("clone")));x.newSlides=a(w.selector,x);e=g?x.count-1-x.currentSlide+x.cloneOffset:x.currentSlide+x.cloneOffset;j&&!q?(x.container.height(200*(x.count+x.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){x.newSlides.css({display:"block"});x.doMath();x.viewport.height(x.h);x.setProps(e*x.h,"init")},"init"===c?100:0)):(x.container.width(200*(x.count+x.cloneCount)+"%"),x.setProps(e*x.computedW,"init"),setTimeout(function(){x.doMath();x.newSlides.css({width:x.computedW,"float":"left",display:"block"});w.smoothHeight&&u.smoothHeight()},"init"===c?100:0))}q||x.slides.removeClass(v+"active-slide").eq(x.currentSlide).addClass(v+"active-slide")};x.doMath=function(){var c=x.slides.first(),k=w.itemMargin,i=w.minItems,h=w.maxItems;x.w=x.width();x.h=c.height();x.boxPadding=c.outerWidth()-c.width();q?(x.itemT=w.itemWidth+k,x.minW=i?i*x.itemT:x.w,x.maxW=h?h*x.itemT:x.w,x.itemW=x.minW>x.w?(x.w-k*i)/i:x.maxW<x.w?(x.w-k*h)/h:w.itemWidth>x.w?x.w:w.itemWidth,x.visible=Math.floor(x.w/(x.itemW+k)),x.move=0<w.move&&w.move<x.visible?w.move:x.visible,x.pagingCount=Math.ceil((x.count-x.visible)/x.move+1),x.last=x.pagingCount-1,x.limit=1===x.pagingCount?0:w.itemWidth>x.w?(x.itemW+2*k)*x.count-x.w-k:(x.itemW+k)*x.count-x.w-k):(x.itemW=x.w,x.pagingCount=x.count,x.last=x.count-1);x.computedW=x.itemW-x.boxPadding};x.update=function(c,e){x.doMath();q||(c<x.currentSlide?x.currentSlide+=1:c<=x.currentSlide&&0!==c&&(x.currentSlide-=1),x.animatingTo=x.currentSlide);if(w.controlNav&&!x.manualControls){if("add"===e&&!q||x.pagingCount>x.controlNav.length){u.controlNav.update("add")}else{if("remove"===e&&!q||x.pagingCount<x.controlNav.length){q&&x.currentSlide>x.last&&(x.currentSlide-=1,x.animatingTo-=1),u.controlNav.update("remove",x.last)}}}w.directionNav&&u.directionNav.update()};x.addSlide=function(c,i){var h=a(c);x.count+=1;x.last=x.count-1;j&&g?void 0!==i?x.slides.eq(x.count-i).after(h):x.container.prepend(h):void 0!==i?x.slides.eq(i).before(h):x.container.append(h);x.update(i,"add");x.slides=a(w.selector+":not(.clone)",x);x.setup();w.added(x)};x.removeSlide=function(c){var f=isNaN(c)?x.slides.index(a(c)):c;x.count-=1;x.last=x.count-1;isNaN(c)?a(c,x.slides).remove():j&&g?x.slides.eq(x.last).remove():x.slides.eq(c).remove();x.doMath();x.update(f,"remove");x.slides=a(w.selector+":not(.clone)",x);x.setup();w.removed(x)};u.init()};a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};a.fn.flexslider=function(c){void 0===c&&(c={});if("object"===typeof c){return this.each(function(){var d=a(this),e=d.find(c.selector?c.selector:".slides > li");1===e.length?(e.fadeIn(400),c.start&&c.start(d)):void 0===d.data("flexslider")&&new a.flexslider(this,c)})}var b=a(this).data("flexslider");switch(c){case"play":b.play();break;case"pause":b.pause();break;case"next":b.flexAnimate(b.getTarget("next"),!0);break;case"prev":case"previous":b.flexAnimate(b.getTarget("prev"),!0);break;default:"number"===typeof c&&b.flexAnimate(c,!0)}}})(jQuery);(function(a){"undefined"==typeof a.fn.each2&&a.fn.extend({each2:function(e){for(var c=a([0]),b=-1,d=this.length;++b<d&&(c.context=c[0]=this[b])&&!1!==e.call(c[0],b,c);){}return this}})})(jQuery);(function(T,R){function Q(f,e){var l=0,i=e.length,g;if("undefined"===typeof f){return -1}if(f.constructor===String){for(;l<i;l+=1){if(0===f.localeCompare(e[l])){return l}}}else{for(;l<i;l+=1){if(g=e[l],g.constructor===String){if(0===g.localeCompare(f)){return l}}else{if(g===f){return l}}}}return -1}function O(f,e){return f===e?!0:f===R||e===R||null===f||null===e?!1:f.constructor===String?0===f.localeCompare(e):e.constructor===String?0===e.localeCompare(f):!1}function t(f,e){var l,i,g;if(null===f||1>f.length){return[]}l=f.split(e);i=0;for(g=l.length;i<g;i+=1){l[i]=T.trim(l[i])}return l}function N(f,e,i){var i=i||R,g;return function(){var l=arguments;window.clearTimeout(g);g=window.setTimeout(function(){e.apply(i,l)},f)}}function P(e){e.preventDefault();e.stopPropagation()}function M(f,e,i){var g=f.toUpperCase().indexOf(e.toUpperCase()),e=e.length;0>g?i.push(f):(i.push(f.substring(0,g)),i.push("<span class='select2-match'>"),i.push(f.substring(g,g+e)),i.push("</span>"),i.push(f.substring(g+e,f.length)))}function K(f){var e,l=0,i=null,g=f.quietMillis||100;return function(m){window.clearTimeout(e);e=window.setTimeout(function(){var q=l+=1,s=f.data,w=f.transport||T.ajax,v=f.traditional||!1,u=f.type||"GET",s=s.call(this,m.term,m.page,m.context);null!==i&&i.abort();i=w.call(null,{url:f.url,dataType:f.dataType,data:s,type:u,traditional:v,success:function(x){q<l||(x=f.results(x,m.page),m.callback(x))}})},g)}}function J(f){var e=f,i,g=function(l){return""+l.text};T.isArray(e)||(g=e.text,T.isFunction(g)||(i=e.text,g=function(l){return l[i]}),e=e.results);return function(l){var s=l.term,q={results:[]},m;if(s===""){l.callback({results:e})}else{m=function(u,x){var w,v,u=u[0];if(u.children){w={};for(v in u){u.hasOwnProperty(v)&&(w[v]=u[v])}w.children=[];T(u.children).each2(function(z,y){m(y,w.children)});w.children.length&&x.push(w)}else{l.matcher(s,g(u))&&x.push(u)}};T(e).each2(function(v,u){m(u,q.results)});l.callback(q)}}}function r(e){return T.isFunction(e)?e:function(f){var i=f.term,g={results:[]};T(e).each(function(){var l=this.text!==R,m=l?this.text:this;if(""===i||f.matcher(i,m)){g.results.push(l?this:{id:this,text:this})}});f.callback(g)}}function p(e){if(T.isFunction(e)){return !0}if(!e){return !1}throw Error("formatterName must be a function or a falsy value")}function n(e){return T.isFunction(e)?e():e}function o(f){var e=0;T.each(f,function(g,i){i.children?e+=o(i.children):e++});return e}function j(x,w,v,u){var s=x,m=!1,q,l,i,g;if(!u.createSearchChoice||!u.tokenSeparators||1>u.tokenSeparators.length){return R}for(;;){m=-1;l=0;for(i=u.tokenSeparators.length;l<i&&!(g=u.tokenSeparators[l],m=x.indexOf(g),0<=m);l++){}if(0>m){break}q=x.substring(0,m);x=x.substring(m+g.length);if(0<q.length&&(q=u.createSearchChoice(q,w),q!==R&&null!==q&&u.id(q)!==R&&null!==u.id(q))){m=!1;l=0;for(i=w.length;l<i;l++){if(O(u.id(q),u.id(w[l]))){m=!0;break}}m||v(q)}}if(0!=s.localeCompare(x)){return x}}function d(f,e){var g=function(){};g.prototype=new f;g.prototype.constructor=g;g.prototype.parent=f.prototype;g.prototype=T.extend(g.prototype,e);return g}if(window.Select2===R){var S,h,b,a,k,L;S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return !0}return !1},isControl:function(e){switch(e.which){case S.SHIFT:case S.CTRL:case S.ALT:return !0}return e.metaKey?!0:!1},isFunctionKey:function(e){e=e.which?e.which:e;return 112<=e&&123>=e}};var c=1;k=function(){return c++};T(document).delegate("body","mousemove",function(e){T.data(document,"select2-lastpos",{x:e.pageX,y:e.pageY})});T(document).ready(function(){T(document).delegate("body","mousedown touchend",function(f){var e=T(f.target).closest("div.select2-container").get(0),g;e?T(document).find("div.select2-container-active").each(function(){this!==e&&T(this).data("select2").blur()}):(e=T(f.target).closest("div.select2-drop").get(0),T(document).find("div.select2-drop-active").each(function(){this!==e&&T(this).data("select2").blur()}));e=T(f.target);g=e.attr("for");"LABEL"===f.target.tagName&&(g&&0<g.length)&&(e=T("#"+g),e=e.data("select2"),e!==R&&(e.focus(),f.preventDefault()))})});h=d(Object,{bind:function(f){var e=this;return function(){f.apply(e,arguments)}},init:function(g){var e,s;this.opts=g=this.prepareOpts(g);this.id=g.id;g.element.data("select2")!==R&&null!==g.element.data("select2")&&this.destroy();this.enabled=!0;this.container=this.createContainer();this.containerId="s2id_"+(g.element.attr("id")||"autogen"+k());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);var q=!1,i;this.body=function(){!1===q&&(i=g.element.closest("body"),q=!0);return i};g.element.attr("class")!==R&&this.container.addClass(g.element.attr("class").replace(/validate\[[\S ]+] ?/,""));this.container.css(n(g.containerCss));this.container.addClass(n(g.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(n(g.dropdownCssClass));this.dropdown.data("select2",this);this.results=e=this.container.find(".select2-results");this.search=s=this.container.find("input.select2-input");s.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();this.results.bind("mousemove",function(u){var f=T.data(document,"select2-lastpos");(f===R||f.x!==u.pageX||f.y!==u.pageY)&&T(u.target).trigger("mousemove-filtered",u)});this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));var l=this.results,m=N(80,function(f){l.trigger("scroll-debounced",f)});l.bind("scroll",function(f){0<=Q(f.target,l.get())&&m(f)});this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded));T.fn.mousewheel&&e.mousewheel(function(f,w,v,u){w=e.scrollTop();0<u&&0>=w-u?(e.scrollTop(0),P(f)):0>u&&e.get(0).scrollHeight-e.scrollTop()+u<=e.height()&&(e.scrollTop(e.get(0).scrollHeight-e.height()),P(f))});s.bind("keydown",function(){T.data(s,"keyup-change-value")===R&&T.data(s,"keyup-change-value",s.val())});s.bind("keyup",function(){var f=T.data(s,"keyup-change-value");f!==R&&s.val()!==f&&(T.removeData(s,"keyup-change-value"),s.trigger("keyup-change"))});s.bind("keyup-change",this.bind(this.updateResults));s.bind("focus",function(){s.addClass("select2-focused");" "===s.val()&&s.val("")});s.bind("blur",function(){s.removeClass("select2-focused")});this.dropdown.delegate(".select2-results","mouseup",this.bind(function(f){0<T(f.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(this.highlightUnderEvent(f),this.selectHighlighted(f)):this.focusSearch();P(f)}));this.dropdown.bind("click mouseup mousedown",function(f){f.stopPropagation()});T.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());(g.element.is(":disabled")||g.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==R&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(f){var e,i,g;e=f.element;"select"===e.get(0).tagName.toLowerCase()&&(this.select=i=f.element);i&&T.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in f){throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}});f=T.extend({},{populateResults:function(l,v,s){var m,u=this.opts.id,q=this;m=function(F,E,B){var D,A,C,z,w,y,x;D=0;for(A=F.length;D<A;D=D+1){C=F[D];z=u(C)!==R;w=C.children&&C.children.length>0;y=T("<li></li>");y.addClass("select2-results-dept-"+B);y.addClass("select2-result");y.addClass(z?"select2-result-selectable":"select2-result-unselectable");w&&y.addClass("select2-result-with-children");y.addClass(q.opts.formatResultCssClass(C));z=T("<div></div>");z.addClass("select2-result-label");x=f.formatResult(C,z,s);x!==R&&z.html(q.opts.escapeMarkup(x));y.append(z);if(w){w=T("<ul></ul>");w.addClass("select2-result-sub");m(C.children,w,B+1);y.append(w)}y.data("select2-data",C);E.append(y)}};m(v,l,0)}},T.fn.select2.defaults,f);"function"!==typeof f.id&&(g=f.id,f.id=function(l){return l[g]});if(i){f.query=this.bind(function(l){var v={results:[],more:false},s=l.term,m,u,q;q=function(w,y){var x;if(w.is("option")){l.matcher(s,w.text(),w)&&y.push({id:w.attr("value"),text:w.text(),element:w.get(),css:w.attr("class")})}else{if(w.is("optgroup")){x={text:w.attr("label"),children:[],element:w.get(),css:w.attr("class")};w.children().each2(function(A,z){q(z,x.children)});x.children.length>0&&y.push(x)}}};m=e.children();if(this.getPlaceholder()!==R&&m.length>0){u=m[0];T(u).text()===""&&(m=m.not(u))}m.each2(function(x,w){q(w,v.results)});l.callback(v)}),f.id=function(l){return l.id},f.formatResultCssClass=function(l){return l.css}}else{if(!("query" in f)){if("ajax" in f){if((i=f.element.data("ajax-url"))&&0<i.length){f.ajax.url=i}f.query=K(f.ajax)}else{"data" in f?f.query=J(f.data):"tags" in f&&(f.query=r(f.tags),f.createSearchChoice=function(l){return{id:l,text:l}},f.initSelection=function(l,q){var m=[];T(t(l.val(),f.separator)).each(function(){var s=this,v=this,u=f.tags;T.isFunction(u)&&(u=u());T(u).each(function(){if(O(this.id,s)){v=this.text;return false}});m.push({id:s,text:v})});q(m)})}}}if("function"!==typeof f.query){throw"query function not defined for Select2 "+f.element.attr("id")}return f},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(e){e=e||{};e=T.extend({},e,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(e);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var w=this.container.offset(),v=this.container.outerHeight(),u=this.container.outerWidth(),s=this.dropdown.outerHeight(),l=T(window).scrollTop()+document.documentElement.clientHeight,v=w.top+v,q=w.left,l=v+s<=l,m=w.top-s>=this.body().scrollTop(),i=this.dropdown.hasClass("select2-drop-above"),e;"static"!==this.body().css("position")&&(e=this.body().offset(),v-=e.top,q-=e.left);i?(i=!0,!m&&l&&(i=!1)):(i=!1,!l&&m&&(i=!0));i?(v=w.top-s,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above"));w=T.extend({top:v,left:q,width:u},n(this.opts.dropdownCss));this.dropdown.css(w)},shouldOpen:function(){var e;if(this.opened()){return !1}e=T.Event("open");this.opts.element.trigger(e);return !e.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return !1}window.setTimeout(this.bind(this.opening),1);return !0},opening:function(){var f=this.containerId,e=this.containerSelector,i="scroll."+f,g="resize."+f;this.container.parents().each(function(){T(this).bind(i,function(){var l=T(e);0==l.length&&T(this).unbind(i);l.select2("close")})});T(window).bind(g,function(){var l=T(e);0==l.length&&T(window).unbind(g);l.select2("close")});this.clearDropdownAlignmentPreference();" "===this.search.val()&&this.search.val("");this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(!0);this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(this.opened()){var e=this;this.container.parents().each(function(){T(this).unbind("scroll."+e.containerId)});T(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(T.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var g=this.results,e,m,l,i;m=this.highlight();0>m||(0==m?g.scrollTop(0):(e=g.find(".select2-result-selectable"),l=T(e[m]),i=l.offset().top+l.outerHeight(),m===e.length-1&&(e=g.find("li.select2-more-results"),0<e.length&&(i=e.offset().top+e.outerHeight())),e=g.offset().top+g.outerHeight(),i>e&&g.scrollTop(g.scrollTop()+(i-e)),l=l.offset().top-g.offset().top,0>l&&g.scrollTop(g.scrollTop()+l)))},moveHighlight:function(f){for(var e=this.results.find(".select2-result-selectable"),i=this.highlight();-1<i&&i<e.length;){var i=i+f,g=T(e[i]);if(g.hasClass("select2-result-selectable")&&!g.hasClass("select2-disabled")){this.highlight(i);break}}},highlight:function(f){var e=this.results.find(".select2-result-selectable").not(".select2-disabled");if(0===arguments.length){return Q(e.filter(".select2-highlighted")[0],e.get())}f>=e.length&&(f=e.length-1);0>f&&(f=0);e.removeClass("select2-highlighted");T(e[f]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(f){f=T(f.target).closest(".select2-result-selectable");if(0<f.length&&!f.is(".select2-highlighted")){var e=this.results.find(".select2-result-selectable");this.highlight(e.index(f))}else{0==f.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")}},loadMoreIfNeeded:function(){var l=this.results,i=l.find("li.select2-more-results"),v,u=this.resultsPage+1,s=this,q=this.search.val(),m=this.context;0!==i.length&&(v=i.offset().top-l.offset().top-l.height(),0>=v&&(i.addClass("select2-active"),this.opts.query({term:q,page:u,context:m,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,l,e.results,{term:q,page:u,context:m}),!0===e.more?(i.detach().appendTo(l).text(s.opts.formatLoadMore(u+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=u)})})))},tokenize:function(){},updateResults:function(g){function e(){s.scrollTop(0);u.removeClass("select2-active");l.positionDropdown()}function v(f){s.html(l.opts.escapeMarkup(f));e()}var u=this.search,s=this.results,q=this.opts,m,l=this;if(!(!0!==g&&(!1===this.showSearchInput||!this.opened()))){u.addClass("select2-active");if(1<=q.maximumSelectionSize&&(m=this.data(),T.isArray(m)&&m.length>=q.maximumSelectionSize&&p(q.formatSelectionTooBig,"formatSelectionTooBig"))){v("<li class='select2-selection-limit'>"+q.formatSelectionTooBig(q.maximumSelectionSize)+"</li>");return}u.val().length<q.minimumInputLength&&p(q.formatInputTooShort,"formatInputTooShort")?v("<li class='select2-no-results'>"+q.formatInputTooShort(u.val(),q.minimumInputLength)+"</li>"):(v("<li class='select2-searching'>"+q.formatSearching()+"</li>"),m=this.tokenize(),m!=R&&null!=m&&u.val(m),this.resultsPage=1,q.query({term:u.val(),page:this.resultsPage,context:null,matcher:q.matcher,callback:this.bind(function(w){var f;this.opened()&&((this.context=w.context===R?null:w.context,this.opts.createSearchChoice&&""!==u.val()&&(f=this.opts.createSearchChoice.call(null,u.val(),w.results),f!==R&&null!==f&&l.id(f)!==R&&null!==l.id(f)&&0===T(w.results).filter(function(){return O(l.id(this),l.id(f))}).length&&w.results.unshift(f)),0===w.results.length&&p(q.formatNoMatches,"formatNoMatches"))?v("<li class='select2-no-results'>"+q.formatNoMatches(u.val())+"</li>"):(s.empty(),l.opts.populateResults.call(this,s,w.results,{term:u.val(),page:this.resultsPage,context:null}),!0===w.more&&p(q.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+l.opts.escapeMarkup(q.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){l.loadMoreIfNeeded()},10)),this.postprocessResults(w,g),e()))})}))}},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var f=this.highlight(),e=this.results.find(".select2-highlighted").not(".select2-disabled"),g=e.closest(".select2-result-selectable").data("select2-data");g&&(e.addClass("select2-disabled"),this.highlight(f),this.onSelect(g))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var e=function(){var g,m,l,i;if("off"===this.opts.width){return null}if("element"===this.opts.width){return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"}if("copy"===this.opts.width||"resolve"===this.opts.width){g=this.opts.element.attr("style");if(g!==R){g=g.split(";");l=0;for(i=g.length;l<i;l+=1){if(m=g[l].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==m&&1<=m.length){return m[1]}}}return"resolve"===this.opts.width?(g=this.opts.element.css("width"),0<g.indexOf("%")?g:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return T.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==e&&this.container.attr("style","width: "+e)}});b=d(h,{createContainer:function(){return T("<div></div>",{"class":"select2-container"}).html("    <a href='#' onclick='return false;' class='select2-choice'>   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>   <div><b></b></div></a>    <div class='select2-drop select2-offscreen'>   <div class='select2-search'>       <input type='text' autocomplete='off' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var f,e=this.dropdown;this.selection=f=this.container.find(".select2-choice");this.search.bind("keydown",this.bind(function(g){if(this.enabled){if(g.which===S.PAGE_UP||g.which===S.PAGE_DOWN){P(g)}else{if(this.opened()){switch(g.which){case S.UP:case S.DOWN:this.moveHighlight(g.which===S.UP?-1:1);P(g);break;case S.TAB:case S.ENTER:this.selectHighlighted();P(g);break;case S.ESC:this.cancel(g),P(g)}}else{g.which===S.TAB||S.isControl(g)||S.isFunctionKey(g)||g.which===S.ESC||!1===this.opts.openOnEnter&&g.which===S.ENTER||this.open()}}}}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));f.bind("mousedown",this.bind(function(){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()}));e.bind("mousedown",this.bind(function(){this.search.focus()}));f.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));f.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));f.bind("keydown",this.bind(function(i){if(this.enabled){if(i.which===S.PAGE_UP||i.which===S.PAGE_DOWN){P(i)}else{if(!(i.which===S.TAB||S.isControl(i)||S.isFunctionKey(i)||i.which===S.ESC)&&!(!1===this.opts.openOnEnter&&i.which===S.ENTER)){if(i.which==S.DELETE){this.opts.allowClear&&this.clear()}else{this.open();if(i.which!==S.ENTER&&!(48>i.which)){var g=String.fromCharCode(i.which).toLowerCase();i.shiftKey&&(g=g.toUpperCase());this.search.focus();this.search.val(g)}P(i)}}}}}));f.delegate("abbr","mousedown",this.bind(function(g){this.enabled&&(this.clear(),P(g),this.close(),this.triggerChange(),this.selection.focus())}));this.setPlaceholder();this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()){this.close(),this.setPlaceholder()}else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(f){f!==R&&null!==f&&(e.updateSelection(f),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(f,i){var g=f.find(":selected");T.isFunction(i)&&i({id:g.attr("value"),text:g.text()})});return e},setPlaceholder:function(){var e=this.getPlaceholder();""===this.opts.element.val()&&e!==R&&!(this.select&&""!==this.select.find("option:first").text())&&(this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},postprocessResults:function(g,e){var m=0,l=this,i=!0;this.results.find(".select2-result-selectable").each2(function(q,f){if(O(l.id(f.data("select2-data")),l.opts.element.val())){return m=q,!1}});this.highlight(m);!0===e&&(i=this.showSearchInput=o(g.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[i?"removeClass":"addClass"]("select2-search-hidden"),T(this.dropdown,this.container)[i?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(f){var e=this.opts.element.val();this.opts.element.val(this.id(f));this.updateSelection(f);this.close();this.selection.focus();O(e,this.id(f))||this.triggerChange()},updateSelection:function(f){var e=this.selection.find("span");this.selection.data("select2-data",f);e.empty();f=this.opts.formatSelection(f,e);f!==R&&e.append(this.opts.escapeMarkup(f));this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==R&&this.selection.find("abbr").show()},val:function(){var f,e=null,g=this;if(0===arguments.length){return this.opts.element.val()}f=arguments[0];if(this.select){this.select.val(f).find(":selected").each2(function(i,l){e={id:l.attr("value"),text:l.text()};return !1}),this.updateSelection(e),this.setPlaceholder()}else{if(this.opts.initSelection===R){throw Error("cannot call val() if initSelection() is not defined")}f?(this.opts.element.val(f),this.opts.initSelection(this.opts.element,function(i){g.opts.element.val(!i?"":g.id(i));g.updateSelection(i);g.setPlaceholder()})):this.clear()}},clearSearch:function(){this.search.val("")},data:function(f){var e;if(0===arguments.length){return e=this.selection.data("select2-data"),e==R&&(e=null),e}!f||""===f?this.clear():(this.opts.element.val(!f?"":this.id(f)),this.updateSelection(f))}});a=d(h,{createContainer:function(){return T("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(f,i){var g=[];f.find(":selected").each2(function(m,l){g.push({id:l.attr("value"),text:l.text()})});T.isFunction(i)&&i(g)});return e},initContainer:function(){var e;this.searchContainer=this.container.find(".select2-search-field");this.selection=e=this.container.find(".select2-choices");this.search.bind("keydown",this.bind(function(f){if(this.enabled){if(f.which===S.BACKSPACE&&""===this.search.val()){this.close();var g;g=e.find(".select2-search-choice-focus");if(0<g.length){this.unselect(g.first());this.search.width(10);P(f);return}g=e.find(".select2-search-choice");0<g.length&&g.last().addClass("select2-search-choice-focus")}else{e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")}if(this.opened()){switch(f.which){case S.UP:case S.DOWN:this.moveHighlight(f.which===S.UP?-1:1);P(f);return;case S.ENTER:case S.TAB:this.selectHighlighted();P(f);return;case S.ESC:this.cancel(f);P(f);return}}if(!(f.which===S.TAB||S.isControl(f)||S.isFunctionKey(f)||f.which===S.BACKSPACE||f.which===S.ESC)&&!(!1===this.opts.openOnEnter&&f.which===S.ENTER)){this.open(),(f.which===S.PAGE_UP||f.which===S.PAGE_DOWN)&&P(f)}}}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(f){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();f.stopImmediatePropagation()}));this.container.delegate(".select2-choices","mousedown",this.bind(function(f){this.enabled&&!(0<T(f.target).closest(".select2-search-choice").length)&&(this.clearPlaceholder(),this.open(),this.focusSearch(),f.preventDefault())}));this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(f){if(f!==R&&f!==null){e.updateSelection(f);e.close();e.clearSearch()}})}},clearSearch:function(){var e=this.getPlaceholder();e!==R&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(f){var e=[],i=[],g=this;T(f).each(function(){0>Q(g.id(this),e)&&(e.push(g.id(this)),i.push(this))});f=i;this.selection.find(".select2-search-choice").remove();T(f).each(function(){g.addSelectedChoice(this)});g.postprocessResults()},tokenize:function(){var e=this.search.val(),e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts);null!=e&&e!=R&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e){this.addSelectedChoice(e);this.select&&this.postprocessResults();this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close();this.triggerChange({added:e});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(g){var e=T("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),m=this.id(g),l=this.getVal(),i;i=this.opts.formatSelection(g,e);e.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>");e.find(".select2-search-choice-close").bind("mousedown",P).bind("click dblclick",this.bind(function(f){this.enabled&&(T(f.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(T(f.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),P(f))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));e.data("select2-data",g);e.insertBefore(this.searchContainer);l.push(m);this.setVal(l)},unselect:function(f){var e=this.getVal(),i,g,f=f.closest(".select2-search-choice");if(0===f.length){throw"Invalid argument: "+f+". Must be .select2-search-choice"}i=f.data("select2-data");g=Q(this.id(i),e);0<=g&&(e.splice(g,1),this.setVal(e),this.select&&this.postprocessResults());f.remove();this.triggerChange({removed:i})},postprocessResults:function(){var f=this.getVal(),e=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),g=this;e.each2(function(l,q){var m=g.id(q.data("select2-data"));0<=Q(m,f)?q.addClass("select2-disabled").removeClass("select2-result-selectable"):q.removeClass("select2-disabled").addClass("select2-result-selectable")});i.each2(function(m,l){0==l.find(".select2-result-selectable").length?l.addClass("select2-disabled"):l.removeClass("select2-disabled")});e.each2(function(m,l){if(!l.hasClass("select2-disabled")&&l.hasClass("select2-result-selectable")){return g.highlight(0),!1}})},resizeSearch:function(){var g,e,m,l,i=this.search.outerWidth()-this.search.width();g=this.search;L||(m=g[0].currentStyle||window.getComputedStyle(g[0],null),L=T("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:m.fontSize,fontFamily:m.fontFamily,fontStyle:m.fontStyle,fontWeight:m.fontWeight,letterSpacing:m.letterSpacing,textTransform:m.textTransform,whiteSpace:"nowrap"}),T("body").append(L));L.text(g.val());g=L.width()+10;e=this.search.offset().left;m=this.selection.width();l=this.selection.offset().left;e=m-(e-l)-i;e<g&&(e=m-i);40>e&&(e=m-i);this.search.width(e)},getVal:function(){var e;if(this.select){return e=this.select.val(),null===e?[]:e}e=this.opts.element.val();return t(e,this.opts.separator)},setVal:function(f){var e;this.select?this.select.val(f):(e=[],T(f).each(function(){0>Q(this,e)&&e.push(this)}),this.opts.element.val(0===e.length?"":e.join(this.opts.separator)))},val:function(){var f,e=[],g=this;if(0===arguments.length){return this.getVal()}if(f=arguments[0]){if(this.setVal(f),this.select){this.select.find(":selected").each(function(){e.push({id:T(this).attr("value"),text:T(this).text()})}),this.updateSelection(e)}else{if(this.opts.initSelection===R){throw Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(l){var i=T(l).map(g.id);g.setVal(i);g.updateSelection(l);g.clearSearch()})}}else{this.opts.element.val(""),this.updateSelection([])}this.clearSearch()},onSortStart:function(){if(this.select){throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var f=[],e=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){f.push(e.opts.id(T(this).data("select2-data")))});this.setVal(f);this.triggerChange()},data:function(f){var e=this,g;if(0===arguments.length){return this.selection.find(".select2-search-choice").map(function(){return T(this).data("select2-data")}).get()}f||(f=[]);g=T.map(f,function(i){return e.opts.id(i)});this.setVal(g);this.updateSelection(f);this.clearSearch()}});T.fn.select2=function(){var g=Array.prototype.slice.call(arguments,0),e,q,m,l,i="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");this.each(function(){if(0===g.length||"object"===typeof g[0]){e=0===g.length?{}:T.extend({},g[0]),e.element=T(this),"select"===e.element.get(0).tagName.toLowerCase()?l=e.element.attr("multiple"):(l=e.multiple||!1,"tags" in e&&(e.multiple=l=!0)),q=l?new a:new b,q.init(e)}else{if("string"===typeof g[0]){if(0>Q(g[0],i)){throw"Unknown method: "+g[0]}m=R;q=T(this).data("select2");if(q!==R&&(m="container"===g[0]?q.container:q[g[0]].apply(q,g.slice(1)),m!==R)){return !1}}else{throw"Invalid arguments to select2 plugin: "+g}}});return m===R?this:m};T.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(f,e,g){e=[];M(f.text,g.term,e);return e.join("")},formatSelection:function(e){return e?e.text:R},formatResultCssClass:function(){return R},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(f,e){return"Please enter "+(e-f.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(f,e){return 0<=e.toUpperCase().indexOf(f.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:j,escapeMarkup:function(e){return e&&"string"===typeof e?e.replace(/&/g,"&amp;"):e},blurOnChange:!1};window.Select2={query:{ajax:K,local:J,tags:r},util:{debounce:N,markMatch:M},"class":{"abstract":h,single:b,multi:a}}}})(jQuery);(function(V,U,T){var S=V.document,R=V.Modernizr,Q=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},P="Moz Webkit O Ms".split(" "),O=function(f){var d=S.documentElement.style,j;if(typeof d[f]=="string"){return f}f=Q(f);for(var i=0,g=P.length;i<g;i++){j=P[i]+f;if(typeof d[j]=="string"){return j}}},N=O("transform"),M=O("transitionProperty"),L={csstransforms:function(){return !!N},csstransforms3d:function(){var b=!!O("perspective");if(b){var j=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="@media ("+j.join("transform-3d),(")+"modernizr)",h=U("<style>"+i+"{#modernizr{height:3px}}</style>").appendTo("head"),g=U('<div id="modernizr" />').appendTo("html");b=g.height()===3,g.remove(),h.remove()}return b},csstransitions:function(){return !!M}},K;if(R){for(K in L){R.hasOwnProperty(K)||R.addTest(K,L[K])}}else{R=V.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var J=" ",I;for(K in L){I=L[K](),R[K]=I,J+=" "+(I?"":"no-")+K}U("html").addClass(J)}if(R.csstransforms){var H=R.csstransforms3d?{translate:function(b){return"translate3d("+b[0]+"px, "+b[1]+"px, 0) "},scale:function(b){return"scale3d("+b+", "+b+", 1) "}}:{translate:function(b){return"translate("+b[0]+"px, "+b[1]+"px) "},scale:function(b){return"scale("+b+") "}},G=function(v,u,t){var s=U.data(v,"isoTransform")||{},r={},q,p={},o;r[u]=t,U.extend(s,r);for(q in s){o=s[q],p[q]=H[q](o)}var n=p.translate||"",i=p.scale||"",b=n+i;U.data(v,"isoTransform",s),v.style[N]=b};U.cssNumber.scale=!0,U.cssHooks.scale={set:function(d,c){G(d,"scale",c)},get:function(b,f){var e=U.data(b,"isoTransform");return e&&e.scale?e.scale:1}},U.fx.step.scale=function(b){U.cssHooks.scale.set(b.elem,b.now+b.unit)},U.cssNumber.translate=!0,U.cssHooks.translate={set:function(d,c){G(d,"translate",c)},get:function(b,f){var e=U.data(b,"isoTransform");return e&&e.translate?e.translate:[0,0]}}}var F,E;R.csstransitions&&(F={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[M],E=O("transitionDuration"));var D=U.event,C=U.event.handle?"handle":"dispatch",B;D.special.smartresize={setup:function(){U(this).bind("resize",D.special.smartresize.handler)},teardown:function(){U(this).unbind("resize",D.special.smartresize.handler)},handler:function(f,e){var h=this,g=arguments;f.type="smartresize",B&&clearTimeout(B),B=setTimeout(function(){D[C].apply(h,g)},e==="execAsap"?0:100)}},U.fn.smartresize=function(b){return b?this.bind("smartresize",b):this.trigger("smartresize",["execAsap"])},U.Isotope=function(b,f,e){this.element=U(f),this._create(b),this._init(e)};var A=["width","height"],z=U(V);U.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},U.Isotope.prototype={_create:function(b){this.options=U.extend({},U.Isotope.settings,b),this.styleQueue=[],this.elemCount=0;var p=this.element[0].style;this.originalStyle={};var o=A.slice(0);for(var n in this.options.containerStyle){o.push(n)}for(var m=0,l=o.length;m<l;m++){n=o[m],this.originalStyle[n]=p[n]||""}this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var k={"original-order":function(d,c){return c.elemCount++,c.elemCount},random:function(){return Math.random()}};this.options.getSortData=U.extend(this.options.getSortData,k),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var j=this;setTimeout(function(){j.element.addClass(j.options.containerClass)},0),this.options.resizable&&z.bind("smartresize.isotope",function(){j.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return !1})},_getAtoms:function(f){var e=this.options.itemSelector,h=e?f.filter(e).add(f.find(e)):f,g={position:"absolute"};return h=h.filter(function(d,c){return c.nodeType===1}),this.usingTransforms&&(g.left=0,g.top=0),h.css(g).addClass(this.options.itemClass),this.updateSortData(h,!0),h},_init:function(b){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(b)},option:function(b){if(U.isPlainObject(b)){this.options=U.extend(!0,this.options,b);var f;for(var e in b){f="_update"+Q(e),this[f]&&this[f]()}}},_updateAnimationEngine:function(){var d=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),c;switch(d){case"css":case"none":c=!1;break;case"jquery":c=!0;break;default:c=!R.csstransitions}this.isUsingJQueryAnimation=c,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var b=this.usingTransforms=this.options.transformsEnabled&&R.csstransforms&&R.csstransitions&&!this.isUsingJQueryAnimation;b||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=b?this._translate:this._positionAbs},_filter:function(i){var h=this.options.filter===""?"*":this.options.filter;if(!h){return i}var n=this.options.hiddenClass,m="."+n,l=i.filter(m),k=l;if(h!=="*"){k=l.filter(h);var j=i.not(m).not(h).addClass(n);this.styleQueue.push({$el:j,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:k,style:this.options.visibleStyle}),k.removeClass(n),i.filter(h)},updateSortData:function(b,l){var k=this,j=this.options.getSortData,i,h;b.each(function(){i=U(this),h={};for(var c in j){!l&&c==="original-order"?h[c]=U.data(this,"isotope-sort-data")[c]:h[c]=j[c](i,k)}U.data(this,"isotope-sort-data",h)})},_sort:function(){var f=this.options.sortBy,e=this._getSorter,h=this.options.sortAscending?1:-1,g=function(i,c){var b=e(i,f),a=e(c,f);return b===a&&f!=="original-order"&&(b=e(i,"original-order"),a=e(c,"original-order")),(b>a?1:b<a?-1:0)*h};this.$filteredAtoms.sort(g)},_getSorter:function(b,d){return U.data(b,"isotope-sort-data")[d]},_translate:function(d,c){return{translate:[d,c]}},_positionAbs:function(d,c){return{left:d,top:c}},_pushPosition:function(f,e,h){e=Math.round(e+this.offset.left),h=Math.round(h+this.offset.top);var g=this.getPositionStyles(e,h);this.styleQueue.push({$el:f,style:g}),this.options.itemPositionDataEnabled&&f.data("isotope-item-position",{x:e,y:h})},layout:function(f,e){var h=this.options.layoutMode;this["_"+h+"Layout"](f);if(this.options.resizesContainer){var g=this["_"+h+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:g})}this._processStyleQueue(f,e),this.isLaidOut=!0},_processStyleQueue:function(ac,ab){var aa=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",Z=this.options.animationOptions,Y=this.options.onLayout,X,W,x,w;W=function(d,c){c.$el[aa](c.style,Z)};if(this._isInserting&&this.isUsingJQueryAnimation){W=function(d,c){X=c.$el.hasClass("no-transition")?"css":aa,c.$el[X](c.style,Z)}}else{if(ab||Y||Z.complete){var v=!1,r=[ab,Y,Z.complete],q=this;x=!0,w=function(){if(v){return}var a;for(var g=0,f=r.length;g<f;g++){a=r[g],typeof a=="function"&&a.call(q.element,ac,q)}v=!0};if(this.isUsingJQueryAnimation&&aa==="animate"){Z.complete=w,x=!1}else{if(R.csstransitions){var e=0,b=this.styleQueue[0],af=b&&b.$el,ae;while(!af||!af.length){ae=this.styleQueue[e++];if(!ae){return}af=ae.$el}var ad=parseFloat(getComputedStyle(af[0])[E]);ad>0&&(W=function(d,c){c.$el[aa](c.style,Z).one(F,w)},x=!1)}}}}U.each(this.styleQueue,W),x&&w(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(b){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,b)},addItems:function(e,d){var f=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(f),d&&d(f)},insert:function(e,d){this.element.append(e);var f=this;this.addItems(e,function(b){var c=f._filter(b);f._addHideAppended(c),f._sort(),f.reLayout(),f._revealAppended(c,d)})},appended:function(e,d){var f=this;this.addItems(e,function(b){f._addHideAppended(b),f.layout(b),f._revealAppended(b,d)})},_addHideAppended:function(b){this.$filteredAtoms=this.$filteredAtoms.add(b),b.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:b,style:this.options.hiddenStyle})},_revealAppended:function(e,d){var f=this;setTimeout(function(){e.removeClass("no-transition"),f.styleQueue.push({$el:e,style:f.options.visibleStyle}),f._isInserting=!1,f._processStyleQueue(e,d)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(f,e){this.$allAtoms=this.$allAtoms.not(f),this.$filteredAtoms=this.$filteredAtoms.not(f);var h=this,g=function(){f.remove(),e&&e.call(h.element)};f.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:f,style:this.options.hiddenStyle}),this._sort(),this.reLayout(g)):g()},shuffle:function(b){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(b)},destroy:function(){var f=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var a=this.style;a.position="",a.top="",a.left="",a.opacity="",f&&(a[N]="")});var h=this.element[0].style;for(var g in this.originalStyle){h[g]=this.originalStyle[g]}this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),z.unbind(".isotope")},_getSegments:function(j){var f=this.options.layoutMode,p=j?"rowHeight":"columnWidth",o=j?"height":"width",n=j?"rows":"cols",m=this.element[o](),l,k=this.options[f]&&this.options[f][p]||this.$filteredAtoms["outer"+Q(o)](!0)||m;l=Math.floor(m/k),l=Math.max(l,1),this[f][n]=l,this[f][p]=k},_checkIfSegmentsChanged:function(f){var e=this.options.layoutMode,h=f?"rows":"cols",g=this[e][h];return this._getSegments(f),this[e][h]!==g},_masonryReset:function(){this.masonry={},this._getSegments();var b=this.masonry.cols;this.masonry.colYs=[];while(b--){this.masonry.colYs.push(0)}},_masonryLayout:function(b){var f=this,e=f.masonry;b.each(function(){var c=U(this),m=Math.ceil(c.outerWidth(!0)/e.columnWidth);m=Math.min(m,e.cols);if(m===1){f._masonryPlaceBrick(c,e.colYs)}else{var l=e.cols+1-m,k=[],j,d;for(d=0;d<l;d++){j=e.colYs.slice(d,d+m),k[d]=Math.max.apply(Math,j)}f._masonryPlaceBrick(c,k)}})},_masonryPlaceBrick:function(t,s){var r=Math.min.apply(Math,s),q=0;for(var p=0,o=s.length;p<o;p++){if(s[p]===r){q=p;break}}var n=this.masonry.columnWidth*q,m=r;this._pushPosition(t,n,m);var l=r+t.outerHeight(!0),k=this.masonry.cols+1-o;for(p=0;p<k;p++){this.masonry.colYs[q+p]=l}},_masonryGetContainerSize:function(){var b=Math.max.apply(Math,this.masonry.colYs);return{height:b}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(b){var h=this,g=this.element.width(),f=this.fitRows;b.each(function(){var c=U(this),e=c.outerWidth(!0),d=c.outerHeight(!0);f.x!==0&&e+f.x>g&&(f.x=0,f.y=f.height),h._pushPosition(c,f.x,f.y),f.height=Math.max(f.y+d,f.height),f.x+=e})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return !0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(b){var f=this,e=this.cellsByRow;b.each(function(){var c=U(this),k=e.index%e.cols,j=Math.floor(e.index/e.cols),i=(k+0.5)*e.columnWidth-c.outerWidth(!0)/2,d=(j+0.5)*e.rowHeight-c.outerHeight(!0)/2;f._pushPosition(c,i,d),e.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(b){var d=this;b.each(function(c){var e=U(this);d._pushPosition(e,0,d.straightDown.y),d.straightDown.y+=e.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return !0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var b=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(b--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(b){var f=this,e=f.masonryHorizontal;b.each(function(){var c=U(this),m=Math.ceil(c.outerHeight(!0)/e.rowHeight);m=Math.min(m,e.rows);if(m===1){f._masonryHorizontalPlaceBrick(c,e.rowXs)}else{var l=e.rows+1-m,k=[],j,d;for(d=0;d<l;d++){j=e.rowXs.slice(d,d+m),k[d]=Math.max.apply(Math,j)}f._masonryHorizontalPlaceBrick(c,k)}})},_masonryHorizontalPlaceBrick:function(t,s){var r=Math.min.apply(Math,s),q=0;for(var p=0,o=s.length;p<o;p++){if(s[p]===r){q=p;break}}var n=r,m=this.masonryHorizontal.rowHeight*q;this._pushPosition(t,n,m);var l=r+t.outerWidth(!0),k=this.masonryHorizontal.rows+1-o;for(p=0;p<k;p++){this.masonryHorizontal.rowXs[q+p]=l}},_masonryHorizontalGetContainerSize:function(){var b=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:b}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(b){var h=this,g=this.element.height(),f=this.fitColumns;b.each(function(){var c=U(this),e=c.outerWidth(!0),d=c.outerHeight(!0);f.y!==0&&d+f.y>g&&(f.x=f.width,f.y=0),h._pushPosition(c,f.x,f.y),f.width=Math.max(f.x+e,f.width),f.y+=d})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return !0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(b){var f=this,e=this.cellsByColumn;b.each(function(){var c=U(this),k=Math.floor(e.index/e.rows),j=e.index%e.rows,i=(k+0.5)*e.columnWidth-c.outerWidth(!0)/2,d=(j+0.5)*e.rowHeight-c.outerHeight(!0)/2;f._pushPosition(c,i,d),e.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(b){var d=this;b.each(function(c){var e=U(this);d._pushPosition(e,d.straightAcross.x,0),d.straightAcross.x+=e.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return !0}},U.fn.imagesLoaded=function(b){function k(){b.call(p,o)}function j(d){var e=d.target;e.src!==m&&U.inArray(e,l)===-1&&(l.push(e),--n<=0&&(setTimeout(k),o.unbind(".imagesLoaded",j)))}var p=this,o=p.find("img").add(p.filter("img")),n=o.length,m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return n||k(),o.bind("load.imagesLoaded error.imagesLoaded",j).each(function(){var c=this.src;this.src=m,this.src=c}),p};var y=function(a){V.console&&V.console.error(a)};U.fn.isotope=function(b,f){if(typeof b=="string"){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var a=U.data(this,"isotope");if(!a){y("cannot call methods on isotope prior to initialization; attempted to call method '"+b+"'");return}if(!U.isFunction(a[b])||b.charAt(0)==="_"){y("no such method '"+b+"' for isotope instance");return}a[b].apply(a,e)})}else{this.each(function(){var a=U.data(this,"isotope");a?(a.option(b),a._init(f)):U.data(this,"isotope",new U.Isotope(b,this,f))})}return this}})(window,jQuery);(function(d,g,a){var i,c;function b(q,m){var o=g.createElement("social").style,p="webkit Moz o ms".split(" ");if(m in o){return true}for(var n=0,l=p.length;n<l;n++){if((p[n]+q) in o){return true}}return false}function f(k){var j=k.split("/");j.pop();return j.join("/")+"/"}function e(){var j;a("script").each(function(){var l=this.src||"",k;if(l.match(h.scriptSrcRegex)){j=f(l);return false}});return j}var h={isGradeA:"querySelectorAll" in g&&!d.blackberry&&!("ontouchstart" in window)&&!("onmsgesturechange" in window),minCount:1,serviceUrl:"http://www.1stwebdesigner.com/service/index.php",initSelector:".socialcount",classes:{gradeA:"grade-a",active:"active",touch:"touch",hover:"hover",noTransforms:"no-transforms",showCounts:"counts",countContent:"count",minCount:"minimum",activateOnHover:"activate-on-hover",activateOnClick:"activate-on-click"},thousandCharacter:"K",millionCharacter:"M",missingResultText:"-",activateOnClick:false,selectors:{facebook:".facebook",twitter:".twitter",googleplus:".googleplus"},locale:g.documentElement?(g.documentElement.lang||""):"",googleplusTooltip:"table.gc-bubbleDefault",scriptSrcRegex:/socialcount[\w.]*.js/i,plugins:{init:[],bind:[]},cache:{},removeFileName:f,resolveServiceDir:e,isCssAnimations:function(){return b("AnimationName","animationName")},isCssTransforms:function(){return b("Transform","transform")},getUrl:function(j){return j.attr("data-url")||location.href},getShareText:function(j){return j.attr("data-share-text")||""},getFacebookAction:function(j){return(j.attr("data-facebook-action")||"like").toLowerCase()},isCountsEnabled:function(j){return j.attr("data-counts")==="true"},isSmallSize:function(j){return j.is(".socialcount-small")},getCounts:function(s,m){var l=h.selectors,k=h.cache,q={},r,p,o;for(o in l){r=s.find(l[o]);p=r.find("."+h.classes.countContent);if(p.length){q[o]=p}else{q[o]=c.clone();r.append(q[o])}}if(!k[m]){k[m]=a.ajax({url:h.serviceUrl,data:{url:m},dataType:"json"})}k[m].done(function n(u){for(var t in u){if(u.hasOwnProperty(t)){if(q[t]&&u[t]>h.minCount){q[t].addClass(h.classes.minCount).html(h.normalizeCount(u[t]))}}}});return k[m]},init:function(t){var s=h.getFacebookAction(t),o=[s],n=h.isSmallSize(t),l=h.getUrl(t),q=h.plugins.init,m=h.isCountsEnabled(t);if(h.isGradeA){o.push(h.classes.gradeA)}if(!h.isCssTransforms()){o.push(h.classes.noTransforms)}if(m){o.push(h.classes.showCounts)}if(h.activateOnClick){o.push(h.classes.activateOnClick)}else{o.push(h.classes.activateOnHover)}if(h.locale){o.push(h.locale)}t.addClass(o.join(" "));for(var r=0,p=q.length;r<p;r++){q[r].call(t)}if(h.isGradeA){h.bindEvents(t,l,s,n)}if(m&&!n){h.getCounts(t,l)}},normalizeCount:function(j){if(!j&&j!==0){return h.missingResultText}if(j>=1000000){return Math.floor(j/1000000)+h.millionCharacter}if(j>=100000){return Math.floor(j/1000)+h.thousandCharacter}if(j>1000){return(j/1000).toFixed(1).replace(/\.0/,"")+h.thousandCharacter}return j},bindEvents:function(t,l,r,o){function s(v,u,k){var w=false,j=false;v.closest("li").bind("mouseenter",function(x){var y=a(this).closest("li");y.addClass(h.classes.hover);j=true;a(document).on("mouseenter.socialcount mouseleave.socialcount",h.googleplusTooltip,function(z){w=z.type==="mouseenter";if(!w&&!j){y.removeClass(h.classes.hover)}})}).bind("mouseleave",function(y){var x=this;window.setTimeout(function(){j=false;if(!w&&!j){a(document).off(".socialcount");a(x).closest("li").removeClass(h.classes.hover)}},0)});v.one(h.activateOnClick?"click":"mouseover",function(y){if(h.activateOnClick){y.preventDefault();y.stopPropagation()}var D=a(this),B=D.closest("li"),C=i.clone(),z=a(u),x=a('<div class="button"/>').append(z),A,F,E=a.Deferred();E.promise().always(function(){var G=B.find("iframe");if(G.length){G.bind("load",function(){C.remove()})}else{C.remove()}});B.addClass(h.classes.active).append(C).append(x);if(k){A=g.createElement("script");A.src=k;if(A.attachEvent){A.attachEvent("onreadystatechange",function(){if(A.readyState==="loaded"||A.readyState==="complete"){E.resolve()}})}else{a(A).bind("load",E.resolve)}g.body.appendChild(A)}else{if(z.is("iframe")){E.resolve()}}})}if(!o){var n=h.getShareText(t);s(t.find(h.selectors.facebook+" a"),'<iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href='+encodeURI(l)+"&amp;send=false&amp;layout=button_count&amp;width=100&amp;show_faces=true&amp;action="+r+'&amp;colorscheme=light&amp;font=arial&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden;" allowTransparency="true"></iframe>');s(t.find(h.selectors.twitter+" a"),'<a href="https://twitter.com/share" class="twitter-share-button" data-url="'+encodeURI(l)+'"'+(n?' data-text="'+n+'"':"")+' data-via="1stwebdesigner" data-count="none" data-dnt="true">Tweet</a>',"//platform.twitter.com/widgets.js");s(t.find(h.selectors.googleplus+" a"),'<div class="g-plusone" data-size="medium" data-annotation="none"></div>',"//apis.google.com/js/plusone.js")}var m=h.plugins.bind;for(var q=0,p=m.length;q<p;q++){m[q].call(t,s,l,o)}}};a(function(){i=a("<div>").addClass("loading").html(h.isCssAnimations()?new Array(4).join('<div class="dot"></div>'):"Loading");c=a("<span>").addClass(h.classes.countContent).html("&#160;");a(h.initSelector).each(function(){var j=a(this);h.init(j)})});window.SocialCount=h}(window,window.document,jQuery));jQuery.fn.equalHeights=function(b){var a=0;jQuery(this).each(function(){if(jQuery(this).outerHeight()>a){a=jQuery(this).outerHeight()}});if(!b&&Number.prototype.pxToEm){a=a.pxToEm()}jQuery(this).css({"min-height":a});return this};(function(){var b=(typeof exports=="undefined"?window:exports);var c={check_mime_type:true};b.Retina=a;function a(){}a.configure=function(f){if(f==null){f={}}for(var g in f){c[g]=f[g]}};a.init=function(f){if(f==null){f=b}var g=f.onload||new Function;f.onload=function(){var h=document.getElementsByTagName("img"),j=[],k,l;for(k=0;k<h.length;k++){l=h[k];j.push(new d(l))}g()}};a.isRetina=function(){var f="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";if(b.devicePixelRatio>1){return true}if(b.matchMedia&&b.matchMedia(f).matches){return true}return false};b.RetinaImagePath=e;function e(g,f){this.path=g;if(typeof f!=="undefined"&&f!==null){this.at_2x_path=f;this.perform_check=false}else{this.at_2x_path=g.replace(/\.\w+$/,function(h){return"@2x"+h});this.perform_check=true}}e.confirmed_paths=[];e.prototype.is_external=function(){return !!(this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain))};e.prototype.check_2x_variant=function(h){var f,g=this;if(this.is_external()){return h(false)}else{if(!this.perform_check&&typeof this.at_2x_path!=="undefined"&&this.at_2x_path!==null){return h(true)}else{if(this.at_2x_path in e.confirmed_paths){return h(true)}else{f=new XMLHttpRequest;f.open("HEAD",this.at_2x_path);f.onreadystatechange=function(){if(f.readyState!=4){return h(false)}if(f.status>=200&&f.status<=399){if(c.check_mime_type){var i=f.getResponseHeader("Content-Type");if(i==null||!i.match(/^image/i)){return h(false)}}e.confirmed_paths.push(g.at_2x_path);return h(true)}else{return h(false)}};f.send()}}}};function d(f){this.el=f;this.path=new e(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var g=this;this.path.check_2x_variant(function(h){if(h){g.swap()}})}b.RetinaImage=d;d.prototype.swap=function(h){if(typeof h=="undefined"){h=this.path.at_2x_path}var f=this;function g(){if(!f.el.complete){setTimeout(g,5)}else{f.el.setAttribute("width",f.el.offsetWidth);f.el.setAttribute("height",f.el.offsetHeight);f.el.setAttribute("src",h)}}g()};if(a.isRetina()){a.init(b)}})();